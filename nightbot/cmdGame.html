<html>
    <head>
        <link rel="stylesheet" href="../common.css">
        <link rel="stylesheet" href="api.css">
    </head>
    <body>
        <h4><a href="javascript:history.back()" style="text-decoration: none;">&lt; 이전 페이지로 돌아가기</a></h4>
        <h1>!게임</h1>
        <h3>현재 플레이중인 게임을 출력합니다.</h3>
        <p>현재 방송에서 플레이 중인 게임을 출력합니다.</p>
        <p>이 정보는 Twitch에 등록된 방송정보에서 가져오기도 하지만 블로키의 스팀 계정과도 연동되어, 스팀에서 플레이중인 게임이 있다면 거기서 대신 가져옵니다.</p>
        <p>방송중이 아니라면 게임 대신 방송중이 아니라는 메시지가 출력됩니다.</p>
        <h2>사용법</h2>
        <div class="codeArea">
            !게임
        </div>
        <h2>출력 내용</h2>
        <h3>방송중이고 스팀에 없는 게임을 플레이중인 경우</h3>
        <div class="codeArea">
            현재 플레이중인 게임: (Twitch에서 가져옴) [게임 이름]
        </div>
        <h3>방송중이고 스팀 게임을 플레이중인 경우</h3>
        <div class="codeArea">
            현재 플레이중인 게임: (Steam에서 가져옴) [게임 이름]
        </div>
        <h3>방송중이 아닌 경우</h3>
        <div class="codeArea">
            방송중이 아닙니다.
        </div>
        <h2>구현</h2>
        <div class="codeArea">
            <pre>$(eval
    const status = "$(twitch blokkytv "{{status}}")";
    const steam = "$(steam blokkytv "{{gameName}}")";
    if(status != "offline") {
        "방송중이 아닙니다.";
    } else if(steam == "[not playing a game]") {
        "현재 플레이중인 게임: (Twitch에서 가져옴) " + "$(twitch blokkytv "{{game}}")";
    } else {
        "현재 플레이중인 게임: (Steam에서 가져옴) " + steam;
    }
)</pre>
        </div>
    </body>
</html>